<div class="dt dt--fixed w-100 pv5 pv5-ns" >
    <div class="dn dtc-ns v-mid">
    <a href="https://www.netlify.com" class="black-70 outline-0">
      <svg role="img" aria-label="Netlify" height="32" viewBox="0 0 33.48 34" fill="currentColor"><path d="M23.62 12a1.4 1.4 0 0 1 .42.33l3.32-1.33-3.05-3.21-.74 4.21h.05zm-6.8-2.78a1.84 1.84 0 0 1 .29.81l4.89 2.17a1.58 1.58 0 0 1 .5-.26l.79-5-2.98-3.19-3.43 5.4a.11.11 0 0 0-.06.09zm16.64 7.78l-5.23-5.26-3.55 1.53 8.75 3.76.03-.03zm-.87.86l-8.39-3.6h-.06a1.36 1.36 0 0 1-1 .57l-.9 5.59a1.43 1.43 0 0 1 .54 1l5.12 1.18 4.64-4.67a.09.09 0 0 0 0-.05.06.06 0 0 0 .05-.05zm-11.11-4.81l-4.59-2a1.67 1.67 0 0 1-1.41.77h-.27l-3.78 5.93a.06.06 0 0 0 0 .06l10.07-4.36v-.13a.93.93 0 0 1 0-.24l-.02-.03zm5.52 10.38l-4.46-.93a1.64 1.64 0 0 1-.64.49l-1.07 6.66v.06l6.17-6.18v-.1zm-6.22-.43a1.47 1.47 0 0 1-.85-1l-.05-.05-8.26-1.75-.12.19 7.52 11 .46-.46 1.28-8 .02.07zm-9-3.79h.05l8.17 1.79a1.45 1.45 0 0 1 1.16-.75l.88-5.5v-.05a1.77 1.77 0 0 1-.18-.15l-10.08 4.25v.06a1.75 1.75 0 0 1 .01.33zm-3.42 1.36l-.13-.18-3.59 1.5 1.72 1.73 2-3.08v.03zm2.34.56a1.81 1.81 0 0 1-.78.18 1.71 1.71 0 0 1-.63-.11h-.05l-2 3.23v.06l9.3 9.51h.05l1.66-1.68v-.05zm-1.33-3.73h.05a2.22 2.22 0 0 1 .44-.06 2.07 2.07 0 0 1 .49.07l3.82-6a.06.06 0 0 0 0-.06 1.68 1.68 0 0 1-.47-1.17 1.72 1.72 0 0 1 0-.39c-.41-.27-4.7-2.1-4.7-2.11l-3.67 3.67v.06zm.42-10.47s4.33 1.86 4.51 2a1.75 1.75 0 0 1 1.07-.38 2.16 2.16 0 0 1 .56.08l3.61-5.63-2.92-3h-.05l-6.78 6.85v.08zm-1.69 11.51h.05a2 2 0 0 1 .34-.48v-.05c0-.06-3.9-5.72-3.9-5.74l-4.59 4.49 8.1 1.78zm-.37 1l-7-1.47v.06l3.11 3.15 3.87-1.67.02-.08z"/></svg>
    </a>
    <!--<a class="ml-1" href="https://gohugo.io">
      <img height="41px" src="/img/hugo-logo-greyscale.svg"/>
    </a>-->
    </div>
    <div class="dn dtc-ns tc v-mid">
      <p class="f7 black-70 dib pr3 mb3">
        Copyright Â© {{ .Site.Params.author }} {{ now.Format "2006" }}
        <!-- Netlify Specific Environment Variables - https://docs.netlify.com/configure-builds/environment-variables/#git-metadata -->
        (<strong><a class="black-70 outline-0 no-underline" href='https://github.com/colinwilson/colinwilson.uk/tree/{{ getenv "COMMIT_REF" | truncate 7 "" }}'>{{ getenv "COMMIT_REF" | truncate 7 "" }}</a></strong>)
      </p>
    </div>
    <div class="db dtc-ns black-70 tc tr-ns v-mid">
      {{ if .Site.Params.sponsorship_url }}
      <a href="{{ .Site.Params.sponsorship_url }}" target="_blank" rel="noopener" class="link dim dib mr3 black-70">
        <svg class="db w2 h2" data-icon="sponsorship" viewBox="0 0 211.09 197.62" fill="#fb3a82">
          <title>sponsorship icon</title>
          <path d="M191.77 24.39a59.54 59.54 0 0 0-42.44-17.65c-14.14 0-28.42 7.13-42.44 21.2l-1.34 1.35-1.35-1.35c-14-14.07-28.3-21.2-42.44-21.2a59.52 59.52 0 0 0-42.44 17.65 66.49 66.49 0 0 0 0 93.72l75.68 75.89 10.83 10.34 8.64-8.62 77.36-77.62a66.5 66.5 0 0 0 0-93.72zm-17.71 76.08l-68.51 68.76-68.55-68.76a41.49 41.49 0 0 1 0-58.47 34.66 34.66 0 0 1 24.73-10.3c7.05 0 15.83 4.91 24.73 13.85l19.06 19.12 19-19.12c8.9-8.93 17.68-13.85 24.73-13.85a34.7 34.7 0 0 1 24.81 10.3 41.49 41.49 0 0 1 0 58.43z" transform="translate(0 -6.74)"/>
        </svg>
      </a>
      {{ end }}
      {{ if .Site.Social.twitter }}
      <a href="https://twitter.com/{{ .Site.Social.twitter }}" target="_blank" rel="noopener" class="link dim dib mr3 black-60">
        <svg class="db w2 h2" data-icon="twitter" viewBox="0 0 29.9 24.1" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
          <title >twitter icon</title>
          <path d="M28.5 3.7c-1 .4-2.1.7-3.2.9 1.2-.7 2-1.8 2.4-3.1-1.1.6-2.3 1.1-3.5 1.3-1-1.1-2.5-1.8-4.1-1.8-3.1 0-5.5 2.5-5.5 5.6 0 .4 0 .9.1 1.3-4.6-.2-8.6-2.5-11.4-5.8-.5.8-.7 1.8-.7 2.8 0 1.9 1 3.6 2.5 4.6-.9 0-1.8-.3-2.5-.7v.1c0 2.7 1.9 4.9 4.4 5.5-.5.1-.9.2-1.5.2-.4 0-.7 0-1.1-.1.7 2.2 2.8 3.8 5.2 3.9-1.9 1.5-4.3 2.4-6.9 2.4-.5 0-.9 0-1.3-.1 2.5 1.6 5.4 2.5 8.5 2.5 10.2 0 15.8-8.5 15.8-15.8v-.7c1.1-.9 2.1-1.9 2.8-3z"/>
        </svg>
      </a>
      {{ end }}
      {{ if .Site.Social.gitlab }}
      <a href="https://gitlab.com/{{ .Site.Social.gitlab }}" target="_blank" rel="noopener" class="link dim dib mr3 black-60">
        <svg class="db w2 h2" data-icon="gitlab" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
          <title >gitlab icon</title>
          <path d="M22.65,14.39,12,22.13,1.35,14.39a.84.84,0,0,1-.3-.94L2.27,9.67,4.71,2.16A.42.42,0,0,1,4.82,2,.43.43,0,0,1,5.4,2a.42.42,0,0,1,.11.18L7.95,9.67h8.1l2.44-7.51A.42.42,0,0,1,18.6,2a.43.43,0,0,1,.58,0,.42.42,0,0,1,.11.18l2.44,7.51L23,13.45A.84.84,0,0,1,22.65,14.39Z"/>
        </svg>
      </a>
      {{ end }}
      {{ if .Site.Social.github }}
      <a href="https://github.com/{{ .Site.Social.github }}" target="_blank" rel="noopener" class="link dim dib mr3 black-60">
        <svg class="db w2 h2" data-icon="github" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
          <title>github icon</title>
          <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
        </svg>
      </a>
      {{ end }}
      {{ if .Site.Social.linkedin }}
      <a href="https://www.linkedin.com/in/{{ .Site.Social.linkedin }}" target="_blank" rel="noopener" class="link dim dib mr3 black-70">
        <svg class="db w2 h2" x="0px" y="0px" viewBox="0 0 48 48" >
          <linearGradient gradientUnits="userSpaceOnUse" x1="23.9995"
            y1="0" x2="23.9995" y2="48.0005" >
            <stop offset="0" ></stop>
            <stop offset="1" ></stop>
          </linearGradient>
          <path fill="currentColor" d="M48,42c0,3.313-2.687,6-6,6H6c-3.313,0-6-2.687-6-6V6 c0-3.313,2.687-6,6-6h36c3.313,0,6,2.687,6,6V42z"
          ></path>
          <g >
            <g >
              <path fill="#FFFFFF" d="M15.731,11.633c-1.608,0-2.658,1.083-2.625,2.527c-0.033,1.378,1.018,2.494,2.593,2.494 c1.641,0,2.691-1.116,2.691-2.494C18.357,12.716,17.339,11.633,15.731,11.633z M13.237,35.557h4.988V18.508h-4.988V35.557z M31.712,18.748c-1.595,0-3.222-0.329-4.956,2.36h-0.099l-0.087-2.599h-4.417c0.065,1.411,0.074,3.518,0.074,5.52v11.529h4.988 v-9.854c0-0.46,0.065-0.919,0.196-1.248c0.328-0.919,1.149-1.871,2.527-1.871c1.805,0,2.527,1.411,2.527,3.479v9.494h4.988V25.439 C37.455,20.713,34.993,18.748,31.712,18.748z"
              ></path>
            </g>
          </g>
        </svg>
      </a>
      {{ end }}
      {{ if .Site.Params.email }}
      <a href="mailto:{{ .Site.Params.email }}" class="link dim dib mr3 black-60">
        <svg class="db w2 h2" data-icon="email" viewBox="0 0 184 184" fill="currentColor">
          <title>email icon</title>
          <path d="M160.746 24.61h-137.492c-12.822 0-23.254 10.432-23.254 23.254v88.271c0 12.822 10.432 23.254 23.254 23.254h137.492c12.822 0 23.254-10.432 23.254-23.254v-88.271c0-12.822-10.432-23.254-23.254-23.254zm-3.633 15l-65.113 50.299-65.113-50.299h130.226zm3.633 104.78h-137.492c-4.551 0-8.254-3.703-8.254-8.254v-86.754l72.415 55.94c1.35 1.043 2.968 1.564 4.585 1.564s3.235-.521 4.585-1.564l72.415-55.94v86.753c0 4.552-3.703 8.255-8.254 8.255z"/>
        </svg>
      </a>
      {{ end }}
    </div>
  </div>

  <script>
  // Theme Test & Switcher
    let systemInitiatedDark = window.matchMedia("(prefers-color-scheme: dark)");

    function prefersColorTest(systemInitiatedDark) {
      if (systemInitiatedDark.matches) {
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', '');
      } else {
        html.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', '');
      }
    }
    systemInitiatedDark.addListener(prefersColorTest);

    function modeSwitcher() {
      let theme = localStorage.getItem('theme');
      if (theme === "dark") {
        html.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      } else if (theme === "light") {
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else if (systemInitiatedDark.matches) {
        html.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      } else {
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
  {{- $js_jquery_slim := resources.GetRemote "https://unpkg.com/jquery@3.5.1/dist/jquery.slim.min.js" }}
  {{- $js_headroom := resources.GetRemote "https://unpkg.com/headroom.js@0.12.0/dist/headroom.js" }}
  {{- if not .Site.IsServer }}
    {{- $js_init := (slice $js_jquery_slim $js_headroom)  | resources.Concat "/js/init_bundle.js" | minify | fingerprint }}
  <script src="{{ $js_init.Permalink }}" integrity="{{ $js_init.Data.Integrity }}" crossorigin="anonymous"></script>
    {{- else }}
    {{- $js_init := (slice $js_jquery_slim $js_headroom)  | resources.Concat "/js/init_bundle.js" }}
  <script src="{{ $js_init.Permalink }}"></script>
  {{- end }}
  {{- if (eq .Page.Title "Articles") }}
    {{- $js_algoliasearch_lite := resources.Get "/js/algoliasearch-lite.umd.js" }}
    {{- $js_algolia_instantsearch := resources.Get "/js/instantsearch-4.24.1-min.js" }}
    {{- $js_algolia_bundle := (slice $js_algoliasearch_lite $js_algolia_instantsearch)  | resources.Concat "/js/algolia_bundle.js" }}
  <script src="{{ $js_algolia_bundle.Permalink }}"></script>
  {{- end }}
  {{- $js_dayjs := resources.GetRemote "https://unpkg.com/dayjs@1.9.8/dayjs.min.js" }}
  {{- $js_medium_zoom := resources.GetRemote "https://unpkg.com/medium-zoom@1.0.6/dist/medium-zoom.min.js" }}
  {{- $js_gist_embed := resources.GetRemote "https://unpkg.com/gist-embed@1.0.4/dist/gist-embed.min.js" }}
  {{- if not .Site.IsServer }}
    {{- $js_plugins_bundle := (slice $js_dayjs $js_medium_zoom $js_gist_embed)  | resources.Concat "/js/plugins_bundle.js" | minify | fingerprint }}
  <script src="{{ $js_plugins_bundle.Permalink }}" integrity="{{ $js_plugins_bundle.Data.Integrity }}" crossorigin="anonymous"></script>
    {{- else }}
    {{- $js_plugins_bundle := (slice $js_dayjs $js_medium_zoom $js_gist_embed)  | resources.Concat "/js/plugins_bundle.js" }}
  <script src="{{ $js_plugins_bundle.Permalink }}"></script>
  {{- end }}
  <script>
    const images = Array.from(document.querySelectorAll(".post-content img"));
    images.forEach(img => {
      mediumZoom(img, {
        margin: 0, /* The space outside the zoomed image */
        scrollOffset: 40, /* The number of pixels to scroll to close the zoom */
        background: 'var(--bg-color)', /* The background of the overlay */
        container: null, /* The viewport to render the zoom in */
        template: null /* The template element to display on zoom */
      });
    });
  </script>
  {{- if .Site.Params.prismjs }}
    {{- $js_prism_core := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/components/prism-core.js" }}
    {{- $js_prism_command_line := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/command-line/prism-command-line.js" }}
    {{- $js_prism_line_numbers := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/line-numbers/prism-line-numbers.js" }}
    {{- $js_prism_line_highlight := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/line-highlight/prism-line-highlight.js" }}
    {{- $js_prism_treeview := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/treeview/prism-treeview.js" }}
    {{- $js_prism_autoloader := resources.Get "/js/prism-autoloader.js" }}
    {{- $js_prism_toolbar := resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/toolbar/prism-toolbar.js" }}
    {{- $js_clipboard := resources.GetRemote "https://unpkg.com/clipboard@2.0.6/dist/clipboard.js" }}
    {{- $js_prism_cp := (resources.GetRemote "https://unpkg.com/prismjs@1.26.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.js") }}
    {{- if not .Site.IsServer }}
      {{- $js_prism_bundle := (slice $js_prism_core $js_prism_command_line $js_prism_line_numbers $js_prism_line_highlight $js_prism_treeview $js_prism_autoloader $js_prism_toolbar $js_clipboard $js_prism_cp) | resources.Concat "/js/prism_bundle.js" | minify }}
  <script src="{{ $js_prism_bundle.Permalink }}"></script>
    {{- else }}
      {{- $js_prism_bundle := (slice $js_prism_core $js_prism_command_line $js_prism_line_numbers $js_prism_line_highlight $js_prism_treeview $js_prism_autoloader $js_prism_toolbar $js_clipboard $js_prism_cp) | resources.Concat "/js/prism_bundle.js" }}
  <script src="{{ $js_prism_bundle.Permalink }}"></script>
    {{- end }}
  {{- end }}
  <script src="/js/nav_mobile.js"></script>